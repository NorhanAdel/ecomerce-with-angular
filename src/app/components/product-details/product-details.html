<div *ngIf="product" class="product-details">
  <div class="image-section">
    <img [src]="product.image" alt="{{product.name}}">
  </div>

  <div class="info-section">
    <h1 class="title">{{product.name}}</h1>
    <p class="rating">โญ {{product.rating}} / 5</p>
    <p class="price">{{product.price | currency:'EGP '}}</p>
    <p class="category">ุงูุชุตููู: {{product.category}}</p>

    <div class="description">
      <h3>ุงููุตู:</h3>
      <p>{{product.description || 'ูุฐุง ุงูููุชุฌ ูุฃุชู ุจุฌูุฏุฉ ุนุงููุฉ ูููุงุณุจ ููุงุณุชุฎุฏุงู ุงููููู.'}}</p>
    </div>

    <div class="specs">
      <h3>ุชูุงุตูู ุงูููุชุฌ:</h3>
      <ul>
        <li>ุงููุงุฑูุฉ: {{product.brand || 'ุบูุฑ ูุญุฏุฏ'}}</li>
        <li>ุงููุฒู: {{product.weight || 'ุบูุฑ ูุชููุฑ'}} ูุฌู</li>
        <li>ุงูุฃุจุนุงุฏ: {{product.dimensions || 'ุบูุฑ ูุชููุฑ'}}</li>
        <li>ุงูุฎุงูุฉ: {{product.material || 'ุบูุฑ ูุชููุฑ'}}</li>
      </ul>
    </div>
  </div>

  <div class="buy-section">
    <p class="price">{{product.price | currency:'EGP '}}</p>
    <p>ุดุงูู ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ</p>
    <button class="btn-add" (click)="addToCart()">ุฃุถู ููุณูุฉ</button>
    <button class="btn-buy"  >ุงุดุชุฑู ุงูุขู</button>
    <p class="delivery">ููุนุฏ ุงูุชูุตูู: ุฎูุงู 2 - 4 ุฃูุงู ุนูู ๐</p>
    <p class="stock">
      ุงูุญุงูุฉ: <span [ngClass]="{'in-stock': product.stock > 0, 'out-stock': product.stock === 0}">
        {{product.stock > 0 ? 'ูุชููุฑ' : 'ุบูุฑ ูุชููุฑ'}}
      </span>
    </p>
  </div>
</div>


<div class="similar-products" *ngIf="similarProducts.length > 0">
  <h3>ููุชุฌุงุช ูุดุงุจูุฉ</h3>
  <div class="similar-grid">
    <div class="similar-item" *ngFor="let item of similarProducts">
      <img [src]="item.image" alt="{{item.name}}">
      <h4>{{item.name}}</h4>
      <p class="price">{{item.price}} EGP</p>
      <button class="btn-view">ุนุฑุถ ุงูููุชุฌ</button>
    </div>
  </div>

</div>

<div class="reviews-section">
  <h3>ูุฑุงุฌุนุงุช ุงูุนููุงุก</h3>

  <form class="review-form" (ngSubmit)="addReview()">
    <label>ุงูุงุณู</label>
    <input type="text" [(ngModel)]="newReview.user" name="user" required />

    <label>ุงูุชูููู</label>
    <select [(ngModel)]="newReview.rating" name="rating" required>
      <option *ngFor="let r of [5,4,3,2,1]" [value]="r">{{r}} โญ</option>
    </select>

    <label>ุงูุชุนููู</label>
    <textarea [(ngModel)]="newReview.comment" name="comment" required></textarea>

    <button type="submit">ุฅุถุงูุฉ ุงููุฑุงุฌุนุฉ</button>
  </form>

<div class="reviews-section" *ngIf="reviews.length > 0">
  <h3>ูุฑุงุฌุนุงุช ุงูุนููุงุก</h3>
  <div class="review" *ngFor="let review of reviews">
    <h4>{{review.user}}</h4>
    <div class="review-rating">โญ {{review.rating}}</div>
    <p>{{review.comment}}</p>
    <span class="review-date">{{review.date}}</span>
  </div>
